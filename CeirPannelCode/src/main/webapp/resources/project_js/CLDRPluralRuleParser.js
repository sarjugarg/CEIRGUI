!function(n,r){"function"==typeof define&&define.amd?define(r):"object"==typeof exports?module.exports=r():n.pluralRuleParser=r()}(this,function(){return function(u,r){"use strict";if(!(u=u.split("@")[0].replace(/^\s*/,"").replace(/\s*$/,"")).length)return!0;var t,l,e,n,o=0,i=z(/^\s+/),a=z(/^\d+/),f=q("n"),s=q("i"),c=q("f"),p=q("t"),v=q("v"),h=q("w"),I=q("is"),g=q("is not"),d=q("!="),b=q("="),m=q("mod"),w=q("%"),F=q("not"),$=q("in"),x=q("within"),y=q(".."),P=q(","),j=q("or"),E=q("and");function R(t){return function(){for(var n,r=0;r<t.length;r++)if(null!==(n=t[r]()))return n;return null}}function S(n){for(var r,t=o,u=[],l=0;l<n.length;l++){if(null===(r=n[l]()))return o=t,null;u.push(r)}return u}function k(u,l){return function(){for(var n=o,r=[],t=l();null!==t;)r.push(t),t=l();return r.length<u?(o=n,null):r}}function q(r){var t=r.length;return function(){var n=null;return u.substr(o,t)===r&&(n=r,o+=t),n}}function z(r){return function(){var n=u.substr(o).match(r);return null===n?null:(o+=n[0].length,n[0])}}function A(){var n=S([i,F]);return null===n?null:n[1]}function B(){var n=S([R([D,a]),k(0,C)]),r=[];return null!==n?(r=r.concat(n[0]),n[1][0]&&(r=r.concat(n[1][0])),r):null}function C(){var n=S([P,B]);return null!==n?n[1]:null}function D(){var n,r,t,u,l=S([a,y,a]);if(null===l)return null;for(r=[],t=parseInt(l[0],10),u=parseInt(l[2],10),n=t;n<=u;n++)r.push(n);return r}function G(){var n,r=S([e,k(0,H)]);if(r){if(!r[0])return!1;for(n=0;n<r[1].length;n++)if(!r[1][n])return!1;return!0}return null}function H(){var n=S([i,E,i,e]);return null!==n?n[3]:null}function J(){var n=S([i,j,i,G]);return null!==n?(n[3],n[3]):null}if(t=R([function(){var n=f();return null===n?n:n=parseFloat(r,10)},function(){var n=s();return null===n?(parseInt(r,10),n):n=parseInt(r,10)},function(){var n=c();return null===n?n:n=(r+".").split(".")[1]||0},function(){var n=p();return null===n?n:n=(r+".").split(".")[1].replace(/0$/,"")||0},function(){var n=v();return null===n?n:n=(r+".").split(".")[1].length||0},function(){var n=h();return null===n?n:n=(r+".").split(".")[1].replace(/0$/,"").length||0}]),l=R([function(){var n=S([t,i,R([m,w]),i,a]);return null!==n?(parseInt(n[0],10),n[2],parseInt(n[4],10),parseFloat(n[0])%parseInt(n[4],10)):null},t]),e=R([function(){var n=S([l,i,R([I]),i,a]);return null!==n?(n[0],parseInt(n[4],10),n[0]===parseInt(n[4],10)):null},function(){var n,r,t=S([l,i,d,i,B]);if(null===t)return null;for(t[0],t[4],r=t[4],n=0;n<r.length;n++)if(parseInt(r[n],10)===parseInt(t[0],10))return!1;return!0},function(){var n=S([l,i,R([g,d]),i,a]);return null!==n?(n[0],parseInt(n[4],10),n[0]!==parseInt(n[4],10)):null},function(){var n,r,t=S([l,k(0,A),i,R([$,b]),i,B]);if(null===t)return null;for(n=t[5],r=0;r<n.length;r++)if(parseInt(n[r],10)===parseFloat(t[0]))return"not"!==t[1][0];return"not"===t[1][0]},function(){var n,r=S([l,k(0,A),i,x,i,B]);return null!==r?(n=r[5],r[0]>=parseInt(n[0],10)&&r[0]<parseInt(n[n.length-1],10)?"not"!==r[1][0]:"not"===r[1][0]):null}]),null===(n=function(){var n,r=S([G,k(0,J)]);if(r){for(n=0;n<r[1].length;n++)if(r[1][n])return!0;return r[0]}return!1}()))throw new Error("Parse error at position "+o.toString()+" for rule: "+u);return o!==u.length&&u.substr(0,o),n}});